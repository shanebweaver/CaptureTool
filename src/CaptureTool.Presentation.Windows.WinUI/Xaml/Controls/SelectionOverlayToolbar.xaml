<?xml version="1.0" encoding="utf-8" ?>
<local:UserControlBase
    x:Class="CaptureTool.Presentation.Windows.WinUI.Xaml.Controls.SelectionOverlayToolbar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:capture="using:CaptureTool.Domains.Capture.Interfaces"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:CaptureTool.Presentation.Windows.WinUI.Xaml.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:templateselectors="using:CaptureTool.Presentation.Windows.WinUI.Xaml.TemplateSelectors"
    xmlns:toolkit="using:CommunityToolkit.WinUI.Controls"
    xmlns:utils="using:CaptureTool.Presentation.Windows.WinUI.Utils"
    xmlns:viewmodels="using:CaptureTool.ViewModels"
    d:DataContext="{d:DesignInstance Type=local:SelectionOverlayToolbar}"
    mc:Ignorable="d">
    <StackPanel
        x:Name="ToolbarPanel"
        Margin="0,12,0,0"
        Padding="8"
        HorizontalAlignment="Center"
        VerticalAlignment="Top"
        Background="{ThemeResource AcrylicBackgroundFillColorDefaultBrush}"
        CornerRadius="4"
        Orientation="Horizontal"
        Spacing="8">
        <!--  Capture mode  -->
        <toolkit:Segmented
            x:Name="CaptureModeSegmentedControl"
            ItemsSource="{x:Bind SupportedCaptureModes, Mode=OneWay}"
            SelectedIndex="{x:Bind SelectedCaptureModeIndex, Mode=OneWay}"
            SelectionChanged="CaptureModeSegmentedControl_SelectionChanged"
            SelectionMode="Single"
            SingleSelectionFollowsFocus="True"
            Visibility="Collapsed">
            <toolkit:Segmented.ItemTemplate>
                <DataTemplate x:DataType="viewmodels:CaptureModeViewModel">
                    <SymbolIcon AutomationProperties.Name="{x:Bind AutomationName}" Symbol="{x:Bind IconSymbolName}" />
                </DataTemplate>
            </toolkit:Segmented.ItemTemplate>
        </toolkit:Segmented>

        <!--  Capture type  -->
        <ComboBox
            MinWidth="148"
            Background="Transparent"
            BorderThickness="0"
            ItemsSource="{x:Bind SupportedCaptureTypes, Mode=OneWay}"
            SelectedIndex="{x:Bind SelectedCaptureTypeIndex, Mode=OneWay}"
            SelectionChanged="CaptureTypeComboBox_SelectionChanged">
            <ComboBox.ItemTemplate>
                <DataTemplate x:DataType="viewmodels:CaptureTypeViewModel">
                    <StackPanel
                        AutomationProperties.Name="{x:Bind AutomationName}"
                        Orientation="Horizontal"
                        Spacing="8">
                        <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{x:Bind utils:ResourceUtility.GetStaticResourceString(IconGlyphName)}" />
                        <TextBlock Text="{x:Bind DisplayName}" />
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>

        <!--  Close  -->
        <Button
            x:Uid="SelectionOverlay_CloseButton"
            Command="{x:Bind CloseCommand, Mode=OneWay}"
            Style="{StaticResource IconButtonStyle}">
            <FontIcon FontFamily="{StaticResource SymbolThemeFontFamily}" Glyph="{StaticResource Cancel}" />
        </Button>
    </StackPanel>
</local:UserControlBase>
